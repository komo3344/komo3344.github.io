---
title : Django + Vue Project - (3)
date : 2020-01-02
tags:
    - Vue
    - Nuxt
categories:
    - Django
---

## 3주차
회원가입 로그인 작업, 페이지 권한별 router role설정  
ex) 로그인, 회원가입 페이지는 권한없이 접근 가능하지만 메인페이지는 인증된 클라이언트만 접근 가능


## 프론트와 서버 통신
프론트와 서버가 통신하기 위해서 보안상의 문제로 HTTP 접근 제어 (CORS)설정을 해주어야 한다.  
다른 웹어플리케이션에서 자원을 요청할때 cross-origin HTTP 요청을 실행한다.  
프론트에서 서버에게 회원가입 및 로그인 유저 정보를 가져올때 발생한다.  

## 서버(django) CORS 설정
Django에서 CORS관련 설정을 추가해야한다.  
```shell
$ pip install django-cors-headers
```  

**MSA_Project/settings.py**
```
INSTALLED_APPS = [
    ...
    'corsheaders',

] 
MIDDLEWARE = [
    'corsheaders.middleware.CorsMiddleware',

]

CORS_ORIGIN_ALLOW_ALL = True
CORS_ALLOW_CREDENTIALS = True
CORS_ORIGIN_WHITELIST = (
    'http://127.0.0.1:3000',
)
```  
- CORS_ORIGIN_ALLOW_ALL: 개발단계에서는 True로 한다.  
- CORS_ORIGIN_WHITELIST: 허용할 whitelist 추가(nuxt.js)  



